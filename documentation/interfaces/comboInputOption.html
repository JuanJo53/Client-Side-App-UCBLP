<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ucb-english-client documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">ucb-english-client documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">












<ol class="breadcrumb">
  <li>Interfaces</li>
  <li>comboInputOption</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/modules/home/modules/themes-base/themes/theme-content/theme-lessons/create-practice/create-practice.component.ts</code>
        </p>



        <section>
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#value">value</a>
                                </li>
                                <li>
                                        <a href="#viewValue">viewValue</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section>
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="value"></a>
                                        <span class="name"><b>value</b><a href="#value"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>value:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="viewValue"></a>
                                        <span class="name"><b>viewValue</b><a href="#viewValue"><span class="icon ion-ios-link"></span></a></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>viewValue:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &quot;@angular/core&quot;;
import { ActivatedRoute, Params, Router } from &quot;@angular/router&quot;;
import { NgxMaterialTimepickerModule } from &quot;ngx-material-timepicker&quot;;
import { CustomQuestionComponent } from &quot;../../../../../../../dialogs/create-practice/custom-question/custom-question.component&quot;;
import { RepositoryQuestionComponent } from &quot;../../../../../../../dialogs/create-practice/repository-question/repository-question.component&quot;;
import {
  MatDialog,
  MatDialogRef,
  MAT_DIALOG_DATA,
} from &quot;@angular/material/dialog&quot;;
import { RadioButtonCompleteCard } from &quot;src/app/models/Preguntas/RadioButtonCompleteCard&quot;;
import { MatStepper } from &quot;@angular/material/stepper&quot;;
import { Time, Location } from &quot;@angular/common&quot;;
import { TIME_LOCALE } from &quot;ngx-material-timepicker/src/app/material-timepicker/tokens/time-locale.token&quot;;
import { windowTime } from &quot;rxjs/operators&quot;;
import { Practica } from &quot;src/app/models/Teacher/CreatePractice/Practica&quot;;
import { Pregunta } from &quot;src/app/models/Teacher/CreatePractice/Pregunta&quot;;
import { PracticesService } from &quot;../../../../../../../../_services/teacher_services/practices.service&quot;;
import { matching } from &quot;src/app/models/Preguntas/Matching&quot;;

export interface ChipOption {
  name: string;
}
interface comboInputOption {
  value: number;
  viewValue: number;
}

@Component({
  selector: &quot;app-create-practice&quot;,
  templateUrl: &quot;./create-practice.component.html&quot;,
  styleUrls: [&quot;./create-practice.component.scss&quot;],
})
export class CreatePracticeComponent implements OnInit {
  radioButtonValue: string &#x3D; &quot;unable&quot;;
  spinnerFinish &#x3D; false;
  total &#x3D; 0;
  repository: any &#x3D; [];
  showSpinner &#x3D; false;
  // startDate &#x3D; new Date(1990, 0, 1);
  // endDate &#x3D; new Date(1990, 0, 1);

  // radioButtonCompleteCard: RadioButtonCompleteCard[] &#x3D; [
  //   {
  //     id: 1,
  //     puntuacion: 10,
  //     preguntaCard: &quot;fill the answer&quot;,
  //     radioButtonContent: [
  //       { opcionRespuesta: &quot;123&quot; },
  //       { opcionRespuesta: &quot;1234&quot; },
  //       { opcionRespuesta: &quot;12345&quot; },
  //       { opcionRespuesta: &quot;123456&quot; },
  //     ],
  //   },
  //   {
  //     id: 2,
  //     puntuacion: 20,
  //     preguntaCard: &quot;fill the answer 2&quot;,
  //     radioButtonContent: [
  //       { opcionRespuesta: &quot;aa&quot; },
  //       { opcionRespuesta: &quot;bb&quot; },
  //       { opcionRespuesta: &quot;cc&quot; },
  //     ],
  //   },
  //   {
  //     id: 3,
  //     puntuacion: 30,
  //     preguntaCard: &quot;fill the answer 3&quot;,
  //     radioButtonContent: [
  //       { opcionRespuesta: &quot;falso&quot; },
  //       { opcionRespuesta: &quot;verdadero&quot; },
  //     ],
  //   },
  // ]
  correcto &#x3D; &quot;&quot;;
  startDate &#x3D; Date.now();
  endDate &#x3D; new Date(2020, 0, 1);
  paso2bloq &#x3D; false;
  idLeccion: string;
  paso2bloqScore &#x3D; false;
  paso1: Practica &#x3D; new Practica();
  preguntas: Pregunta[] &#x3D; [];

  constructor(
    public dialog: MatDialog,
    private router: Router,
    private route: ActivatedRoute,
    private servPrac: PracticesService,
    private location: Location
  ) {}

  actPuntaje() {
    this.total &#x3D; 0;
    for (let preg of this.preguntas) {
      this.total +&#x3D; preg.puntuacion;
    }
  }
  ngOnInit(): void {
    this.route.parent.params.subscribe((param) &#x3D;&gt; {
      this.idLeccion &#x3D; param[&quot;idLeccion&quot;];
    });
    this.route.data.subscribe({
      next: (data) &#x3D;&gt; {
        if (data.repository.status &#x3D;&#x3D; 200) {
          console.log(data.repository.body);
          this.repository &#x3D; data.repository.body;
        }
      },
      error: (err) &#x3D;&gt; {
        console.log(err);
      },
    });
  }
  generateId(): string {
    // Alphanumeric characters
    const chars &#x3D;
      &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;
    let autoId &#x3D; &quot;&quot;;
    for (let i &#x3D; 0; i &lt; 20; i++) {
      autoId +&#x3D; chars.charAt(Math.floor(Math.random() * chars.length));
    }

    return autoId;
  }
  //funciones
  next(stepper: MatStepper) {
    switch (stepper.selectedIndex) {
      case 0:
        console.log(this.paso1);
        var a &#x3D; this.verificarpaso1();
        if (a) {
          stepper.next();
        }
        console.log(a);
        break;
      case 1:
        var b &#x3D; this.verificarpaso2();
        if (b) {
          this.cambiarFecha();
          console.log(this.preguntas);
          stepper.next();
        }

        console.log(b);

        break;
      case 2:
        stepper.next();
        break;
      case 3:
        break;
    }
  }
  //Editar una pregunta
  editarPregunta(pregunta: Pregunta) {
    const dialogRef &#x3D; this.dialog.open(CustomQuestionComponent, {
      width: &quot;1000px&quot;,
      maxHeight: &quot;80vh&quot;,
      data: {
        preg: pregunta,
        tipo: &quot;modificar&quot;,
      },
    });

    dialogRef.afterClosed().subscribe((result) &#x3D;&gt; {
      console.log(result);
      if (result !&#x3D;&#x3D; &quot;&quot; &amp;&amp; result !&#x3D;&#x3D; &quot;undefined&quot; &amp;&amp; result !&#x3D; null) {
        this.route.data.subscribe({
          next: (data) &#x3D;&gt; {},
          error: (error) &#x3D;&gt; {
            console.log(&quot;no se pudo agregar la pregunta&quot;);
          },
        });
      }
      this.actPuntaje();
    });
  }
  //Retroceder en el proceso
  previous(stepper: MatStepper) {
    stepper.previous();
    console.log(&quot;previous&quot;);
  }
  eliminarPreg(index) {
    this.preguntas.splice(index, 1);
  }
  //Agregar una pregunta personalizada
  preguntasPersonalizadas() {
    const dialogRef &#x3D; this.dialog.open(CustomQuestionComponent, {
      width: &quot;1000px&quot;,
      maxHeight: &quot;80vh&quot;,
      data: {
        numero: this.preguntas.length,
        tipo: &quot;agregar&quot;,
      },
    });

    dialogRef.afterClosed().subscribe((result) &#x3D;&gt; {
      console.log(result);
      if (result !&#x3D;&#x3D; &quot;&quot; &amp;&amp; result !&#x3D;&#x3D; &quot;undefined&quot; &amp;&amp; result !&#x3D; null) {
            this.preguntas.push(result);
        
      }
      this.actPuntaje();
    });
  }
  cambiarFecha() {
    this.paso1.fechaini &#x3D; this.Date_toDMY(this.paso1.fechainiDate);
    this.paso1.fechafin &#x3D; this.Date_toDMY(this.paso1.fechafinDate);
  }
  preguntasRepositorio() {
    const dialogRef &#x3D; this.dialog.open(RepositoryQuestionComponent, {
      width: &quot;1000px&quot;,
      maxHeight: &quot;80vh&quot;,
      data: {
        repository: this.repository,
      },
    });
    dialogRef.afterClosed().subscribe((result) &#x3D;&gt; {
      this.actPuntaje();
      if (result !&#x3D;&#x3D; &quot;&quot; &amp;&amp; result !&#x3D;&#x3D; &quot;undefined&quot; &amp;&amp; result !&#x3D; null) {
        for (let pregunta of result) {
          this.preguntas.push(pregunta);
        }
      }
      this.actPuntaje();
    });
  }

  //Funciones paso 1
  verificarpaso1(): boolean {
    if (this.radioButtonValue &#x3D;&#x3D;&#x3D; &quot;unable&quot;) {
      this.paso1.tiempoLimite &#x3D; null;
    }
    console.log(&quot;se verficia&quot;);
    if (this.paso1.fechainiDate &#x3D;&#x3D; null) {
      this.paso1.bloqfecha1 &#x3D; true;
    } else this.paso1.bloqfecha1 &#x3D; false;
    if (this.paso1.fechafinDate &#x3D;&#x3D; null) {
      this.paso1.bloqfecha2 &#x3D; true;
    } else this.paso1.bloqfecha2 &#x3D; false;
    if (this.paso1.horaini &#x3D;&#x3D; null) {
      this.paso1.bloqhora1 &#x3D; true;
    } else this.paso1.bloqhora1 &#x3D; false;
    if (
      (this.paso1.tiempoLimite &#x3D;&#x3D; null || this.paso1.tiempoLimite &lt; 5) &amp;&amp;
      this.radioButtonValue &#x3D;&#x3D;&#x3D; &quot;enable&quot;
    ) {
      this.paso1.bloqtiempo &#x3D; true;
    } else this.paso1.bloqtiempo &#x3D; false;
    if (
      this.paso1.horafin &#x3D;&#x3D; null ||
      (String(this.paso1.horafin) &#x3D;&#x3D;&#x3D; String(this.paso1.horaini) &amp;&amp;
        String(this.paso1.fechainiDate) &#x3D;&#x3D;&#x3D; String(this.paso1.fechafinDate))
    ) {
      this.paso1.bloqhora2 &#x3D; true;
    } else this.paso1.bloqhora2 &#x3D; false;
    if (this.paso1.nombre &#x3D;&#x3D;&#x3D; &quot;&quot;) {
      this.paso1.bloqnombre &#x3D; true;
    } else this.paso1.bloqnombre &#x3D; false;
    if (
      this.paso1.bloqfecha1 &#x3D;&#x3D; false &amp;&amp;
      this.paso1.bloqfecha2 &#x3D;&#x3D; false &amp;&amp;
      this.paso1.bloqhora1 &#x3D;&#x3D; false &amp;&amp;
      this.paso1.bloqhora2 &#x3D;&#x3D; false &amp;&amp;
      this.paso1.bloqnombre &#x3D;&#x3D; false &amp;&amp;
      this.paso1.bloqtiempo &#x3D;&#x3D; false
    ) {
      return true;
    } else return false;
  }
  ////////////////////////////

  //Funciones paso 2
  verificarpaso2(): boolean {
    if (this.preguntas.length !&#x3D; 0) this.paso2bloq &#x3D; false;
    else this.paso2bloq &#x3D; true;
    var puntuacionT &#x3D; 0;
    for (let card of this.preguntas) {
      puntuacionT +&#x3D; card.puntuacion;
    }
    if (puntuacionT &#x3D;&#x3D; 100 || this.paso2bloq) this.paso2bloqScore &#x3D; false;
    else this.paso2bloqScore &#x3D; true;
    if (!this.paso2bloq &amp;&amp; !this.paso2bloqScore) return true;
    else {
      return false;
    }
  }
  //////////////////////////////
  Date_toYMD(date: string) {
    var fecha &#x3D; date.split(&quot;/&quot;);
    return fecha[2] + &quot;-&quot; + fecha[1] + &quot;-&quot; + fecha[0];
  }
  Date_toDMY(date: any) {
    var datos &#x3D; String(date).split(&quot;/&quot;);
    if (datos.length !&#x3D; 3) {
      var year, month, day;
      year &#x3D; String(date.getFullYear());
      month &#x3D; String(date.getMonth() + 1);
      if (month.length &#x3D;&#x3D; 1) {
        month &#x3D; &quot;0&quot; + month;
      }
      day &#x3D; String(date.getDate());
      if (day.length &#x3D;&#x3D; 1) {
        day &#x3D; &quot;0&quot; + day;
      }
      return day + &quot;/&quot; + month + &quot;/&quot; + year;
    } else {
      return date;
    }
  }
  Hour_toMYSQL(time) {
    var partTime &#x3D; time.split(&quot; &quot;);
    if (partTime.length &#x3D;&#x3D; 2) {
      if (partTime[1] &#x3D;&#x3D;&#x3D; &quot;PM&quot;) {
        var horasplit &#x3D; partTime[0].split(&quot;:&quot;);
        if (horasplit[0] &#x3D;&#x3D;&#x3D; &quot;12&quot;) {
          return partTime[0];
        } else {
          return String(Number(horasplit[0]) + 12) + &quot;:&quot; + horasplit[1];
        }
      } else {
        var horasplit &#x3D; partTime[0].split(&quot;:&quot;);
        if (horasplit[0] &#x3D;&#x3D;&#x3D; 12) {
          return &quot;00&quot; + &quot;:&quot; + horasplit[1];
        } else {
          return partTime[0];
        }
      }
    } else {
      return time;
    }
  }
  //Funciones paso 3
  Generar(stepper) {
    this.paso1.idLeccion &#x3D; this.idLeccion;
    this.paso1.numero &#x3D; 1;
    this.paso1.fechaini &#x3D; this.Date_toYMD(this.paso1.fechaini);
    this.paso1.fechafin &#x3D; this.Date_toYMD(this.paso1.fechafin);
    console.log(this.paso1.fechaini);
    this.paso1.horaini &#x3D; this.Hour_toMYSQL(this.paso1.horaini);
    this.paso1.horafin &#x3D; this.Hour_toMYSQL(this.paso1.horafin);
    console.log(this.paso1.fechaini);

    this.servPrac.addPractica(this.paso1, this.preguntas).subscribe({
      next: (data) &#x3D;&gt; {
        if (data.status &#x3D;&#x3D; 200) {
          // this.servPrac
          //   .addPracticaPreguntas(this.preguntas, data.body.idPractica)
          //   .subscribe({
          //     next: (dataFin) &#x3D;&gt; {
          //       if (dataFin.status &#x3D;&#x3D; 200) {
          //         console.log(dataFin.body);
          //         this.correcto &#x3D; &quot;Se Agregaron Correctamente las preguntas&quot;;
          //         stepper.next();
          //       } else {
          //         console.log(&quot;error&quot;);
          //         this.correcto &#x3D; &quot;No se pudieron agregar las preguntas&quot;;
          //         stepper.next();
          //       }
          //     },
          //     error: (errorFin) &#x3D;&gt; {
          //       console.log(&quot;error&quot;);
          //       this.correcto &#x3D; &quot;No se pudieron agregar las preguntas&quot;;
          //       stepper.next();
          //     },
          //   });
        } else {
          console.log(&quot;error&quot;);
          this.correcto &#x3D; &quot;No se pudieron agregar las preguntas&quot;;
          stepper.next();
        }
      },
      error: (error) &#x3D;&gt; {
        console.log(&quot;error&quot;);
        this.correcto &#x3D; &quot;No se pudieron agregar las preguntas&quot;;
        stepper.next();
      },
    });
  }
  finish() {
    this.location.back();
  }

  //funcion del loader
  loadData() {
    this.showSpinner &#x3D; true;
    setTimeout(() &#x3D;&gt; {
      this.showSpinner &#x3D; false;
      this.spinnerFinish &#x3D; true;
    }, 5000);
  }

  // combobox matching

  comboOptions: comboInputOption[] &#x3D; [
    { value: 1, viewValue: 1 },
    { value: 2, viewValue: 2 },
    { value: 3, viewValue: 3 },
  ];
  matchingInputs: matching[] &#x3D; [
    {
      keyword: &quot;the&quot;,
      match: &quot;prepositions&quot;,
    },
    {
      keyword: &quot;play&quot;,
      match: &quot;verb&quot;,
    },
    {
      keyword: &quot;beautiful&quot;,
      match: &quot;adjective&quot;,
    },
    {
      keyword: &quot;likely&quot;,
      match: &quot;adverb&quot;,
    },
  ];
}
</code></pre>
    </div>
</div>


                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'comboInputOption.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>

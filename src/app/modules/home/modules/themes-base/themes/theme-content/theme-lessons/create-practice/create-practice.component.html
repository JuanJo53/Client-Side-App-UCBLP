<div class="container">
  <!--Subtitle-->
  <div class="subtitle">
    <div class="subtitle__text">
      <span>Practice creation</span>
    </div>
  </div>
  <mat-horizontal-stepper
    labelPosition="bottom"
    #stepper
    draggable="false"
    class="question-maker-container"
  >
    <!--1 paso-->
    <mat-step>
      <form>
        <ng-template matStepLabel>Initial Information</ng-template>
        <!-- card -->
        <div class="card-question mb-2">
          <div class="container-dialog">
            <div class="u__flex-normal-inputs">
              <div class="card-question__practice-input-container px-1">
                <!--subtitle-->
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span *ngIf="!paso1.bloqnombre">Name</span>
                    <span *ngIf="paso1.bloqnombre" style="color: #ca5a5d"
                      >Name *</span
                    >
                  </div>
                </div>
                <mat-form-field
                  appearance="outline"
                  class="card-question__input-form"
                >
                  <mat-label>Practice name</mat-label>
                  <input
                    class=""
                    type="text"
                    matInput
                    [(ngModel)]="paso1.nombre"
                    placeholder="Practice name"
                    name="nombrePractica"
                  />
                </mat-form-field>
              </div>

              <div class="card-question__practice-input-container px-1">
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text" *ngIf="!paso1.bloqtiempo">
                    <span>Time Limit</span>
                  </div>
                </div>
                <div class="dialog-subtitle">
                  <div
                    class="dialog-subtitle__text"
                    *ngIf="paso1.bloqtiempo"
                    style="color: red"
                  >
                    <span>*Time Limit</span>
                  </div>
                </div>
                <div class="u__space-between">
                  <!--fecha-->
                  <div
                    class="u__space-between-minutes"
                    *ngIf="radioButtonValue === 'enable'"
                  >
                    <div class="card-question--input-container-time">
                      <mat-form-field class="card-question__input-form">
                        <input
                          matInput
                          [(ngModel)]="paso1.tiempoLimite"
                          [ngModelOptions]="{ standalone: true }"
                          type="number"
                        />
                      </mat-form-field>
                    </div>
                    <div class="card-question--input-container-time">
                      <div class="detail-minutes">minutes</div>
                    </div>
                  </div>
                  <div
                    *ngIf="radioButtonValue !== 'enable'"
                    class="u__space-between-minutes"
                  >
                    <div class="card-question--input-container-time">
                      <mat-form-field class="card-question__input-form">
                        <input matInput disabled placeholder="UNLIMITED" />
                      </mat-form-field>
                    </div>
                    <div class="card-question--input-container-time">
                      <div class="detail-minutes">minutes</div>
                    </div>
                  </div>
                  <mat-radio-group
                    class="mat-radio-group--container"
                    aria-label="Select an option"
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="radioButtonValue"
                  >
                    <mat-radio-button
                      class="radio-button"
                      value="enable"
                      >Enable</mat-radio-button
                    >
                    <mat-radio-button class="radio-button" value="unable"
                      >Unable</mat-radio-button
                    >
                  </mat-radio-group>
                </div>
              </div>
            </div>
            <div class="u__flex-normal-inputs">
              <div class="card-question__practice-input-container px-1">
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span>Start date and hour</span>
                  </div>
                </div>
                <div class="u__space-between">
                  <div class="card-question--input-container">
                    <mat-form-field class="card-question__input-form">
                      <mat-label *ngIf="!paso1.bloqfecha1"
                        >Choose a date</mat-label
                      >
                      <mat-label *ngIf="paso1.bloqfecha1" style="color: #ca5a5d"
                        >Choose a date*</mat-label
                      >
                      <input
                        matInput
                        [matDatepicker]="picker1"
                        [(ngModel)]="paso1.fechainiDate"
                        [ngModelOptions]="{ standalone: true }"
                      />
                      <mat-datepicker-toggle
                        matSuffix
                        [for]="picker1"
                      ></mat-datepicker-toggle>
                      <mat-datepicker
                        #picker1
                        startView="year"
                        [startAt]="startDate"
                      ></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="card-question--input-container">
                    <mat-form-field class="card-question__input-form">
                      <mat-label *ngIf="!paso1.bloqhora1"
                        >Choose an hour</mat-label
                      >
                      <mat-label *ngIf="paso1.bloqhora1" style="color: #ca5a5d"
                        >Choose an hour*</mat-label
                      >
                      <input
                        matInput
                        [(ngModel)]="paso1.horaini"
                        [ngModelOptions]="{ standalone: true }"
                        [ngxTimepicker]="toggleTimepicker1"
                        [disableClick]="true"
                        readonly
                      />
                      <ngx-material-timepicker-toggle
                        matSuffix
                        [for]="toggleTimepicker1"
                      >
                      </ngx-material-timepicker-toggle>
                      <ngx-material-timepicker
                        #toggleTimepicker1
                      ></ngx-material-timepicker>
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="card-question__practice-input-container px-1">
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span>End date and hour</span>
                  </div>
                </div>
                <div class="u__space-between">
                  <div class="card-question--input-container">
                    <mat-form-field class="card-question__input-form">
                      <mat-label *ngIf="!paso1.bloqfecha2"
                        >Choose a date</mat-label
                      >
                      <mat-label *ngIf="paso1.bloqfecha2" style="color: #ca5a5d"
                        >Choose a date*</mat-label
                      >
                      <input
                        matInput
                        [matDatepicker]="picker2"
                        [(ngModel)]="paso1.fechafinDate"
                        [ngModelOptions]="{ standalone: startDate }"
                      />
                      <mat-datepicker-toggle
                        matSuffix
                        [for]="picker2"
                      ></mat-datepicker-toggle>
                      <mat-datepicker
                        #picker2
                        startView="year"
                        [startAt]="startDate"
                      ></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="card-question--input-container">
                    <div class="toggle-example">
                      <mat-form-field class="card-question__input-form">
                        <mat-label *ngIf="!paso1.bloqhora2"
                          >Choose an hour</mat-label
                        >
                        <mat-label
                          *ngIf="paso1.bloqhora2"
                          style="color: #ca5a5d"
                          >Choose an hour*</mat-label
                        >
                        <input
                          matInput
                          [(ngModel)]="paso1.horafin"
                          [ngModelOptions]="{ standalone: true }"
                          [ngxTimepicker]="toggleTimepicker2"
                          [disableClick]="true"
                          readonly
                        />
                        <ngx-material-timepicker-toggle
                          matSuffix
                          [for]="toggleTimepicker2"
                        >
                        </ngx-material-timepicker-toggle>
                        <ngx-material-timepicker
                          #toggleTimepicker2
                        ></ngx-material-timepicker>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- #card -->
        <!-- <button mat-button matStepperNext>Next</button> -->
        <!-- buttons next back-->
        <div class="u__space-between mt-3">
          <div class="u__flex" (click)="previous(stepper)">
            <button
              class="circular-button circular-button--primary"
              mat-mini-fab
            >
              <mat-icon class="circular-button__icon">chevron_left</mat-icon>
            </button>
            <div class="circular-button__text circular-button__text--right">
              Back
            </div>
          </div>
          <div class="u__flex" (click)="next(stepper)">
            <div class="circular-button__text circular-button__text--left">
              Next
            </div>
            <button
              class="circular-button circular-button--primary"
              mat-mini-fab
            >
              <mat-icon class="circular-button__icon">chevron_right</mat-icon>
            </button>
          </div>
        </div>
        <!-- #buttons next back -->
      </form>
    </mat-step>
    <!--#1 paso-->
    <!--2 paso-->
    <mat-step>
      <form>
        <ng-template matStepLabel>Building Question</ng-template>
        <div
          class="card-question__no-content"
          *ngIf="preguntas.length == 0; else negative"
        >
          <div *ngIf="!paso2bloq">No questions added</div>
          <div *ngIf="paso2bloq" style="color: #ca5a5d">
            *No questions added
          </div>
        </div>

        <ng-template #negative>
          <!-- <div class="subtitle-card-question">
            <div class="u__space-between">
              <div class="subtitle-card-question__text">Listening Section</div>
              <div class="subtitle-card-question__icon">
                <mat-icon
                  class="card-question__input-icon"
                  [inline]="true"
                  matSuffix
                  >hearing</mat-icon
                >
              </div>
            </div>
          </div> -->

          <div
            *ngFor="let card of preguntas; let i = index"
            [ngSwitch]="card.idTipoRespuesta"
            #template
            class="card-question mb-2"
          >
            <div class="u__flex-normal">
              <div class="u__flex-95">
                <div class="card-question-radio-button" *ngSwitchCase="'1'">
                  <div class="container-dialog">
                    <div class="dialog__message dialog__message--subtitle">
                      Question Section
                    </div>
                    <div class="card-question__header">
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--question"
                      >
                        <mat-label>Question Name</mat-label>
                        <input
                          [(ngModel)]="card.pregunta"
                          type="text"
                          readonly
                          class="input-form"
                          matInput
                          placeholder="Question Name"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >mode_edit</mat-icon
                        >
                      </mat-form-field>
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--score"
                      >
                        <mat-label>Score</mat-label>
                        <input
                          [(ngModel)]="card.puntuacion"
                          type="text"
                          readonly
                          class="input-form"
                          matInput
                          placeholder="Score Name"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >star</mat-icon
                        >
                      </mat-form-field>
                    </div>
                    <!--  Listening Resources -->
                    <div *ngIf="card.idHabilidad==1">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Listening resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >fiber_manual_record</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Listening Resources-->
                    <!-- Reading Resource -->
                    <div   *ngIf="card.idHabilidad==2">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Reading resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >insert_drive_file</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Reading Resource -->
                    <div class="divisor-line divisor-line--primary mb-2"></div>
                    <div class="dialog__message dialog__message--subtitle mb-2">
                      Answer Section
                    </div>
                    <div class="radio-button-question">
                      <mat-radio-group
                        aria-label="Select an option"
                        class="radio-button-question__radio-group"
                        [disabled]="true"
                        [ngModelOptions]="{ standalone: true }"
                        [(ngModel)]="card.respuesta[0]"
                      >
                        <!-- radio button option -->
                        <mat-radio-button
                          class="radio-button-question__choice"
                          *ngFor="
                            let opcionesRadioButton of card.opciones;
                            let x = index
                          "
                          [value]="x"
                        >
                          <mat-form-field
                            class="radio-button-question__mat-form-field"
                          >
                            <input
                              [(value)]="card.opciones[x]"
                              style="color: black"
                              readonly
                              class="radio-button-question__choice--input"
                              matInput
                              placeholder="opcion {{ x + 1 }}"
                            />
                          </mat-form-field>
                        </mat-radio-button>
                      </mat-radio-group>
                    </div>
                  </div>
                </div>
                <!-- #primera pregunta -->
                <!-- #segunda pregunta -->
                <div class="card-question-radio-button" *ngSwitchCase="'2'">
                  <div class="container-dialog">
                    <div class="dialog__message dialog__message--subtitle">
                      Question Section
                    </div>
                    <div class="card-question__header">
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--question"
                      >
                        <mat-label>Question Name</mat-label>
                        <input
                          [(ngModel)]="card.pregunta"
                          type="text"
                          class="input-form"
                          matInput
                          readonly
                          placeholder="Question Name"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >mode_edit</mat-icon
                        >
                      </mat-form-field>
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--score"
                      >
                        <mat-label>Score</mat-label>
                        <input
                          [(ngModel)]="card.puntuacion"
                          type="text"
                          readonly
                          class="input-form"
                          matInput
                          placeholder="Score Name"
                          [ngModelOptions]="{ standalone: true }"
                        /><mat-icon class="card-question__input-icon" matSuffix
                          >star</mat-icon
                        >
                      </mat-form-field>
                    </div>
                    <!--  Listening Resources -->
                    <div *ngIf="card.idHabilidad==1">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Listening resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >fiber_manual_record</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Listening Resources-->
                    <!-- Reading Resource -->
                    <div   *ngIf="card.idHabilidad==2">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Reading resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >insert_drive_file</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Reading Resource -->
                    <div class="divisor-line divisor-line--primary mb-2"></div>
                    <div class="dialog__message dialog__message--subtitle mb-2">
                      Answer Section
                    </div>
                    <div class="checkbox-question">
                      <mat-checkbox
                        class="checkbox-question__choice"
                        [disabled]="true"
                        *ngFor="let opcionesCB of card.opciones; let x = index"
                        [(ngModel)]="card.respuestasBool[x]"
                        [ngModelOptions]="{ standalone: true }"
                      >
                        <mat-form-field
                          class="checkbox-question__mat-form-field"
                        >
                          <input
                            [(value)]="card.opciones[x]"
                            style="color: black"
                            readonly
                            class="card-question__choice--input"
                            matInput
                            placeholder="opcion"
                          />
                        </mat-form-field>
                      </mat-checkbox>
                    </div>
                  </div>
                </div>
                <!-- #segunda pregunta -->
                <!-- tercera pregunta -->
                <div class="card-question-radio-button" *ngSwitchCase="'3'">
                  <div class="container-dialog">
                    <div class="dialog__message dialog__message--subtitle">
                      Question Section
                    </div>
                    <div class="card-question__header">
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--question"
                      >
                        <mat-label>Instruction</mat-label>
                        <input
                          [(ngModel)]="card.pregunta"
                          type="text"
                          readonly
                          class="input-form"
                          matInput
                          placeholder="Instruction"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >mode_edit</mat-icon
                        >
                      </mat-form-field>
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--score"
                      >
                        <mat-label>Score</mat-label>
                        <input
                          [(ngModel)]="card.puntuacion"
                          type="number"
                          readonly
                          class="input-form"
                          matInput
                          placeholder="Score"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >star</mat-icon
                        >
                      </mat-form-field>
                    </div>
                    <!--  Listening Resources -->
                    <div *ngIf="card.idHabilidad==1">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Listening resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >fiber_manual_record</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Listening Resources-->
                    <!-- Reading Resource -->
                    <div   *ngIf="card.idHabilidad==2">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Reading resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >insert_drive_file</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Reading Resource -->
                    <div class="divisor-line divisor-line--primary mb-2"></div>
                    <div class="dialog__message dialog__message--subtitle mb-2">
                      Answer Section
                    </div>
                    <div
                      class="dialog__message dialog__message--assistance mb-1"
                    >
                      Fill the columns with the chips
                    </div>
                    <div class="drag-drop__area" cdkDropListGroup>
                      <div class="drag-drop__columns">
                        <div
                          class="drag-drop__column"
                          *ngFor="let column of card.respuesta"
                        >
                          <mat-form-field class="drag-drop__field">
                            <mat-label>Column title</mat-label>
                            <input
                              matInput
                              type="text"
                              [(ngModel)]="column.titulo"
                              [ngModelOptions]="{ standalone: true }"
                            />
                          </mat-form-field>
                          <div class="drag-drop__task-container">
                            <mat-chip
                              class="example-box"
                              *ngFor="let option of column.cards"
                            >
                              {{ card.opciones[option] }}
                            </mat-chip>
                          </div>
                        </div>
                      </div>
                      <div
                        class="dialog__message dialog__message--assistance mb-1"
                      >
                        List of chips
                      </div>
                      <mat-chip-list
                        class="drag-drop__column--horizontal"
                        cdkDropListOrientation="horizontal"
                      >
                        <mat-chip
                          class="task"
                          *ngFor="let option of card.opciones"
                        >
                          {{ option }}
                        </mat-chip>
                      </mat-chip-list>
                    </div>
                  </div>
                </div>
                <!-- #tercera pregunta -->
                <!-- cuarta pregunta -->
                <div class="card-question-radio-button" *ngSwitchCase="'4'">
                  <div class="container-dialog">
                    <div class="dialog__message dialog__message--subtitle">
                      Question Setup
                    </div>
                    <div class="card-question__header">
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--question"
                      >
                        <mat-label>Instruction</mat-label>
                        <input
                          type="text"
                          class="input-form"
                          matInput
                          placeholder="Instruction"
                          [ngModelOptions]="{ standalone: true }"
                          [(ngModel)]="card.pregunta"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >mode_edit</mat-icon
                        >
                      </mat-form-field>

                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--score"
                      >
                        <mat-label>Score</mat-label>
                        <input
                          type="number"
                          class="input-form"
                          matInput
                          placeholder="Score"
                          [ngModelOptions]="{ standalone: true }"
                          [(ngModel)]="card.puntuacion"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >star</mat-icon
                        >
                      </mat-form-field>
                    </div>
                    <!--  Listening Resources -->
                    <div *ngIf="card.idHabilidad==1">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Listening resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >fiber_manual_record</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Listening Resources-->
                    <!-- Reading Resource -->
                    <div   *ngIf="card.idHabilidad==2">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Reading resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >insert_drive_file</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Reading Resource -->
                    <div class="divisor-line divisor-line--primary mb-2"></div>
                    <div class="dialog__message dialog__message--subtitle mb-2">
                      Answer Section
                    </div>
                    <div
                      class="dialog__message dialog__message--assistance u__flex--flex-end mb-1"
                    >
                      *Create a sentence to be completed
                    </div>
                    <div class="drag-drop__input">
                      <div *ngFor="let option of card.respuesta; let i = index">
                        <div *ngIf="option !== '*'; else templateName">
                          <div class="auxliar_span">
                            {{ option }}
                          </div>
                        </div>
                        <ng-template #templateName>
                          <!-- <span> token </span> -->
                          <mat-chip-list
                            class="drag-drop__chip-container-tasks"
                            cdkDropListOrientation="horizontal"
                          >
                          </mat-chip-list>
                        </ng-template>
                      </div>
                    </div>
                    <div
                      class="dialog__message dialog__message--assistance mb-1"
                    >
                      List of chips
                    </div>
                    <mat-chip-list
                      class="drag-drop__column--horizontal"
                      cdkDropListOrientation="horizontal"
                    >
                      <mat-chip
                        [ngClass]="option.numero == -1 && 'redChip'"
                        class="task"
                        *ngFor="let option of card.opciones"
                      >
                        {{ option }}
                      </mat-chip>
                    </mat-chip-list>
                  </div>
                </div>
                <!-- #cuarta pregunta -->
                <!-- matching combo box-->
                <div class="card-question-radio-button" *ngSwitchCase="'5'">
                  <div class="container-dialog">
                    <div class="dialog__message dialog__message--subtitle">
                      Question Section
                    </div>
                    <div class="card-question__header">
                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--question"
                      >
                        <mat-label>Instruction Dropbox</mat-label>
                        <input
                          readonly
                          [(ngModel)]="card.pregunta"
                          type="text"
                          class="input-form"
                          matInput
                          placeholder="Instruction dorpbox"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >mode_edit</mat-icon
                        >
                      </mat-form-field>

                      <mat-form-field
                        appearance="outline"
                        class="card-question__header--score"
                      >
                        <mat-label>Score</mat-label>
                        <input
                          readonly
                          [(ngModel)]="card.puntuacion"
                          type="number"
                          class="input-form"
                          matInput
                          placeholder="Score"
                          [ngModelOptions]="{ standalone: true }"
                        />
                        <mat-icon class="card-question__input-icon" matSuffix
                          >star</mat-icon
                        >
                      </mat-form-field>
                    </div>
                    <!--  Listening Resources -->
                    <div *ngIf="card.idHabilidad==1">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Listening resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >fiber_manual_record</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Listening Resources-->
                    <!-- Reading Resource -->
                    <div   *ngIf="card.idHabilidad==2">
                      <div class="dialog__message dialog__message--assistance mb-1">
                        Reading resource
                      </div>
                      <div class="u__space-between mb-1">
                        <div class="u__flex">
                          <mat-icon class="dialog__file-container--icon"
                            >insert_drive_file</mat-icon
                          >
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                          <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                        </div>
                      </div>
                    </div>
                    <!-- #Reading Resource -->
                    <div class="divisor-line divisor-line--primary mb-2"></div>
                    <div class="dialog__message dialog__message--subtitle mb-2">
                      Answer Section
                    </div>
                    <div class="u__space-between mb-2">
                      <div class="match-input match-input__titles--small">
                        <div class="match-title__container">
                          <div
                            class="divisor-line divisor-line--secondary"
                          ></div>
                          <div
                            class="dialog__message dialog__message--subtitle mx-1"
                          >
                            Set Keywords y Matches
                          </div>
                          <div
                            class="divisor-line divisor-line--secondary"
                          ></div>
                        </div>
                      </div>
                      <div class="match-input match-input__titles--big">
                        <div class="match-title__container">
                          <div
                            class="divisor-line divisor-line--secondary"
                          ></div>
                          <div
                            class="dialog__message dialog__message--subtitle mx-1"
                          >
                            Set Keywords
                          </div>
                          <div
                            class="divisor-line divisor-line--secondary"
                          ></div>
                        </div>
                        <div class="match-input__icon"></div>
                        <div class="match-title__container">
                          <div
                            class="divisor-line divisor-line--secondary"
                          ></div>
                          <div
                            class="dialog__message dialog__message--subtitle mx-1"
                          >
                            Set Matches
                          </div>
                          <div
                            class="divisor-line divisor-line--secondary"
                          ></div>
                        </div>
                      </div>
                    </div>
                    <div
                      class=""
                      *ngFor="let opcionMatch of card.opciones; let i = index"
                    >
                      <div class="u__space-between">
                        <div class="match-input">
                          <mat-form-field class="match-input__container">
                            <mat-label>Keyword</mat-label>
                            <input
                              readonly
                              matInput
                              placeholder="Write a keyword"
                              [(ngModel)]="card.opciones[i]"
                              [ngModelOptions]="{ standalone: true }"
                            />
                          </mat-form-field>
                          <div class="match-input__icon">
                            <mat-icon inline="true">arrow_forward</mat-icon>
                          </div>
                          <mat-form-field class="match-input__container">
                            <mat-label>Match</mat-label>
                            <input
                              readonly
                              matInput
                              placeholder="Write the match of the keyword"
                              [(ngModel)]="card.respuesta[i]"
                              [ngModelOptions]="{ standalone: true }"
                            />
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="u__flex-05 u__vertical-align--center">
                <button
                  mat-mini-fab
                  (click)="editarPregunta(card)"
                  class="circular-button--primary mb-05"
                >
                  <mat-icon>edit</mat-icon>
                </button>
                <button
                  mat-mini-fab
                  (click)="eliminarPreg(i)"
                  class="circular-button--negative mt-05"
                >
                  <mat-icon>delete</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </ng-template>
        <h4
          *ngIf="paso2bloqScore"
          style="color: #ca5a5d; padding-left: 1rem; margin-bottom: -2rem"
        >
          *check the total score
        </h4>

        <!-- #card -->
        <div class="row progress-bar__choose-buttons-container">
          <div class="col-sm-6 progress-bar__content">
            <button
              mat-raised-button
              class="progress-bar__button-normal"
              (click)="preguntasPersonalizadas()"
            >
              <div class="progress-bar__button-container">
                <mat-icon class="progress-bar__button-normal--icon"
                  >add_circle</mat-icon
                >
                <span class="progress-bar__button-normal--text"
                  >Add customed question</span
                >
              </div>
            </button>
          </div>
          <div class="col-sm-6 progress-bar__content">
            <button
              (click)="preguntasRepositorio()"
              mat-raised-button
              class="progress-bar__button-normal"
            >
              <div class="progress-bar__button-container">
                <mat-icon class="progress-bar__button-normal--icon"
                  >account_balance</mat-icon
                >
                <span class="progress-bar__button-normal--text"
                  >Add From Repository</span
                >
              </div>
            </button>
          </div>
        </div>
        <!--#card-->
        <!-- control de sumatoria == 100 -->
        <div *ngIf="total === 100; else menor100">
          <div class="rubric">
            <div class="rubric__content rubric--positive">
              <div class="rubric__text">
                <span>Score : {{ total }}</span>
              </div>
              <mat-icon class="rubric__icon"> check </mat-icon>
            </div>
          </div>
        </div>
        <ng-template #menor100>
          <div class="rubric">
            <div class="rubric__content rubric--negative">
              <div class="rubric__text">
                <span>Score : {{ total }}</span>
              </div>
              <mat-icon class="rubric__icon"> close </mat-icon>
            </div>
          </div>
        </ng-template>
        <!-- #control de sumatoria == 100 -->
        <!-- buttons next back-->
        <div class="u__space-between mt-3">
          <div class="u__flex" (click)="previous(stepper)">
            <button
              class="circular-button circular-button--primary"
              mat-mini-fab
            >
              <mat-icon class="circular-button__icon">chevron_left</mat-icon>
            </button>
            <div class="circular-button__text circular-button__text--right">
              Back
            </div>
          </div>
          <div class="u__flex" (click)="next(stepper)">
            <div class="circular-button__text circular-button__text--left">
              Next
            </div>
            <button
              class="circular-button circular-button--primary"
              mat-mini-fab
            >
              <mat-icon class="circular-button__icon">chevron_right</mat-icon>
            </button>
          </div>
        </div>
        <!-- #buttons next back -->
      </form>
    </mat-step>
    <!--#2 paso-->
    <!--3 paso-->
    <mat-step>
      <form>
        <ng-template matStepLabel>Review Questions</ng-template>
        <div class="card-question card-question--added mb-2">
          <div class="container-dialog">
            <div class="u__flex-normal-inputs mb-1">
              <div class="card-question__practice-input-container px-1">
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span>Name</span>
                  </div>
                </div>
                <mat-form-field
                  appearance="outline"
                  class="card-question__input-form"
                >
                  <mat-label>Practice name</mat-label>
                  <!-- Input para el email-->
                  <input
                    class="input-form"
                    type="text"
                    matInput
                    readonly
                    [(ngModel)]="paso1.nombre"
                    placeholder="Practice name"
                    name="nombrePractica"
                  />
                  <!-- //Input para el email-->
                </mat-form-field>
              </div>
              <div class="card-question__practice-input-container px-1">
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text" *ngIf="!paso1.bloqtiempo">
                    <span>Time Limit</span>
                  </div>
                </div>
                <div class="dialog-subtitle">
                  <div
                    class="dialog-subtitle__text"
                    *ngIf="paso1.bloqtiempo"
                    style="color: red"
                  >
                    <span>*Time Limit</span>
                  </div>
                </div>
                <div class="u__space-between">
                  <div
                    class="u__space-between-minutes"
                    *ngIf="radioButtonValue === 'enable'"
                  >
                    <div class="card-question--input-container-time">
                      <mat-form-field class="card-question__input-form">
                        <input
                          matInput
                          [(ngModel)]="paso1.tiempoLimite"
                          [ngModelOptions]="{ standalone: true }"
                          type="number"
                        />
                      </mat-form-field>
                    </div>
                    <div class="card-question--input-container-time">
                      <div class="detail-minutes">minutes</div>
                    </div>
                  </div>
                  <div
                    *ngIf="radioButtonValue !== 'enable'"
                    class="u__space-between-minutes"
                  >
                    <div class="card-question--input-container-time">
                      <mat-form-field class="card-question__input-form">
                        <input matInput disabled placeholder="UNLIMITED" />
                      </mat-form-field>
                    </div>
                    <div class="card-question--input-container-time">
                      <div class="detail-minutes">minutes</div>
                    </div>
                  </div>
                  <mat-radio-group
                    class="mat-radio-group--container"
                    aria-label="Select an option"
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="radioButtonValue"
                  >
                    <mat-radio-button
                      class="radio-button"
                      value="enable"
                      disabled
                      >Enable</mat-radio-button
                    >
                    <mat-radio-button disabled class="radio-button" value="unable"
                      >Unable</mat-radio-button
                    >
                  </mat-radio-group>
                </div>
              </div>
            </div>
            <div class="u__flex-normal-inputs">
              <div class="card-question__practice-input-container px-1">
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span>Start date and hour</span>
                  </div>
                </div>
                <div class="u__space-between">
                  <div class="card-question--input-container">
                    <mat-form-field class="card-question__input-form">
                      <mat-label>Choose a date</mat-label>
                      <input
                        matInput
                        readonly
                        [(ngModel)]="paso1.fechaini"
                        [ngModelOptions]="{ standalone: true }"
                      />
                    </mat-form-field>
                  </div>
                  <div class="card-question--input-container">
                    <mat-form-field class="card-question__input-form">
                      <mat-label>Choose an hour</mat-label>
                      <input
                        matInput
                        readonly
                        [(ngModel)]="paso1.horaini"
                        [ngModelOptions]="{ standalone: true }"
                        readonly
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="card-question__practice-input-container px-1">
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span>End date and hour</span>
                  </div>
                </div>
                <div class="u__space-between">
                  <div class="card-question--input-container">
                    <mat-form-field class="card-question__input-form">
                      <mat-label>Choose a date</mat-label>
                      <input
                        matInput
                        readonly
                        [(ngModel)]="paso1.fechafin"
                        [ngModelOptions]="{ standalone: startDate }"
                      />
                    </mat-form-field>
                  </div>
                  <div class="card-question--input-container">
                    <mat-form-field class="card-question__input-form">
                      <mat-label>Choose an hour</mat-label>
                      <input
                        matInput
                        readonly
                        [(ngModel)]="paso1.horafin"
                        [ngModelOptions]="{ standalone: true }"
                        readonly
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--row added row-->
        <div
          *ngFor="let card of preguntas; let i = index"
          [ngSwitch]="card.idTipoRespuesta"
          #template
          class="card-question card-question--added mb-2"
        >
          <!-- 
            <div class="question-card-added" *ngSwitchCase="'1'">
              <div class="question-card-added__content">
                <div class="question-card-added__header">
       
                  <div class="question-card-added__header--question">
                    <mat-form-field appearance="outline">
                      <mat-label>Question Name</mat-label>
                      <input
                        [(ngModel)]="card.pregunta"
                        type="text"
                        readonly
                        class="input-form"
                        matInput
                        placeholder="Question Name"
                        [ngModelOptions]="{ standalone: true }"
                      />
                    </mat-form-field>
                  </div>
 
                  <div class="question-card-added__header--score">
                
                    <div class="card-question__input">
                      <mat-form-field appearance="outline">
                        <mat-label>Score</mat-label>
                        <input
                          [(ngModel)]="card.puntuacion"
                          type="text"
                          readonly
                          class="input-form"
                          matInput
                          placeholder="Score Name"
                          [ngModelOptions]="{ standalone: true }"
                        />
                      </mat-form-field>
                    </div>
          
                  </div>
                </div>
                <div class="question-card-added__content-question">
           
                  <mat-radio-group
                    aria-label="Select an option"
                    class="example-radio-group"
                    [ngModelOptions]="{ standalone: true }"
                    [disabled]="true"
                    [(ngModel)]="card.respuesta[0]"
                  >
               
                    <mat-radio-button
                      class="question-card-added__choice"
                      *ngFor="
                        let opcionesRadioButton of card.opciones;
                        let x = index
                      "
                      [value]="x"
                    >
                      <mat-form-field class="full-width-field">
                        <input
                          [(value)]="card.opciones[x]"
                          style="color: black"
                          readonly
                          class="question-card-added__choice--input"
                          matInput
                          placeholder="opcion {{ x + 1 }}"
                        />
                      </mat-form-field>
                   
                    </mat-radio-button>
                  </mat-radio-group>
    
                </div>
              </div>
            </div> -->

          <div class="card-question-radio-button" *ngSwitchCase="'1'">
            <div class="container-dialog">
              <div class="dialog__message dialog__message--subtitle">
                Question Section
              </div>
              <div class="card-question__header">
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--question"
                >
                  <mat-label>Question Name</mat-label>
                  <input
                    [(ngModel)]="card.pregunta"
                    type="text"
                    readonly
                    class="input-form"
                    matInput
                    placeholder="Question Name"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >mode_edit</mat-icon
                  >
                </mat-form-field>
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--score"
                >
                  <mat-label>Score</mat-label>
                  <input
                    [(ngModel)]="card.puntuacion"
                    type="text"
                    readonly
                    class="input-form"
                    matInput
                    placeholder="Score Name"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >star</mat-icon
                  >
                </mat-form-field>
              </div>
              <!--  Listening Resources -->
              <div *ngIf="card.idHabilidad==1">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Listening resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >fiber_manual_record</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Listening Resources-->
              <!-- Reading Resource -->
              <div   *ngIf="card.idHabilidad==2">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Reading resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >insert_drive_file</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Reading Resource -->
              <div class="divisor-line divisor-line--primary mb-2"></div>
              <div class="dialog__message dialog__message--subtitle mb-2">
                Answer Section
              </div>
              <div class="radio-button-question">
                <mat-radio-group
                  aria-label="Select an option"
                  class="radio-button-question__radio-group"
                  [disabled]="true"
                  [ngModelOptions]="{ standalone: true }"
                  [(ngModel)]="card.respuesta[0]"
                >
                  <!-- radio button option -->
                  <mat-radio-button
                    class="radio-button-question__choice"
                    *ngFor="
                      let opcionesRadioButton of card.opciones;
                      let x = index
                    "
                    [value]="x"
                  >
                    <mat-form-field
                      class="radio-button-question__mat-form-field"
                    >
                      <input
                        [(value)]="card.opciones[x]"
                        style="color: black"
                        readonly
                        class="radio-button-question__choice--input"
                        matInput
                        placeholder="opcion {{ x + 1 }}"
                      />
                    </mat-form-field>
                  </mat-radio-button>
                </mat-radio-group>
              </div>
            </div>
          </div>

          <!--checkbox case-->
          <!-- <div class="card-question-radio-button" *ngSwitchCase="'2'">
              <div class="container-dialog">
                <div class="dialog__message dialog__message--subtitle">
                  Question Section
                </div>
                <div class="card-question__header">
                  <mat-form-field
                    appearance="outline"
                    class="card-question__header--question"
                  >
                    <mat-label>Question Name</mat-label>
                    <input
                      [(ngModel)]="card.pregunta"
                      type="text"
                      class="input-form"
                      matInput
                      readonly
                      placeholder="Question Name"
                      [ngModelOptions]="{ standalone: true }"
                    />
                    <mat-icon class="card-question__input-icon" matSuffix
                      >mode_edit</mat-icon
                    >
                  </mat-form-field>
                  <mat-form-field
                    appearance="outline"
                    class="card-question__header--score"
                  >
                    <mat-label>Score</mat-label>
                    <input
                      [(ngModel)]="card.puntuacion"
                      type="text"
                      readonly
                      class="input-form"
                      matInput
                      placeholder="Score Name"
                      [ngModelOptions]="{ standalone: true }"
                    /><mat-icon class="card-question__input-icon" matSuffix
                      >star</mat-icon
                    >
                  </mat-form-field>
                </div>
                <div class="divisor-line divisor-line--primary mb-2"></div>
                <div class="dialog__message dialog__message--subtitle mb-2">
                  Answer Section
                </div>
                <div class="checkbox-question">
                  <mat-checkbox
                    class="checkbox-question__choice"
                    [disabled]="true"
                    *ngFor="let opcionesCB of card.opciones; let x = index"
                    [(ngModel)]="card.respuestasBool[x]"
                    [ngModelOptions]="{ standalone: true }"
                  >
                    <mat-form-field
                      class="checkbox-question__mat-form-field"
                    >
                      <input
                        [(value)]="card.opciones[x]"
                        style="color: black"
                        readonly
                        class="card-question__choice--input"
                        matInput
                        placeholder="opcion"
                      />
                    </mat-form-field>
                  </mat-checkbox>
                </div>
              </div>
            </div> -->
          <div class="card-question-radio-button" *ngSwitchCase="'2'">
            <div class="container-dialog">
              <div class="dialog__message dialog__message--subtitle">
                Question Section
              </div>
              <div class="card-question__header">
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--question"
                >
                  <mat-label>Question Name</mat-label>
                  <input
                    [(ngModel)]="card.pregunta"
                    type="text"
                    class="input-form"
                    matInput
                    readonly
                    placeholder="Question Name"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >mode_edit</mat-icon
                  >
                </mat-form-field>
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--score"
                >
                  <mat-label>Score</mat-label>
                  <input
                    [(ngModel)]="card.puntuacion"
                    type="text"
                    readonly
                    class="input-form"
                    matInput
                    placeholder="Score Name"
                    [ngModelOptions]="{ standalone: true }"
                  /><mat-icon class="card-question__input-icon" matSuffix
                    >star</mat-icon
                  >
                </mat-form-field>
              </div>
              <!--  Listening Resources -->
              <div *ngIf="card.idHabilidad==1">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Listening resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >fiber_manual_record</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Listening Resources-->
              <!-- Reading Resource -->
              <div   *ngIf="card.idHabilidad==2">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Reading resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >insert_drive_file</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Reading Resource -->
              <div class="divisor-line divisor-line--primary mb-2"></div>
              <div class="dialog__message dialog__message--subtitle mb-2">
                Answer Section
              </div>
              <div class="checkbox-question">
                <mat-checkbox
                  class="checkbox-question__choice"
                  [disabled]="true"
                  *ngFor="let opcionesCB of card.opciones; let x = index"
                  [(ngModel)]="card.respuestasBool[x]"
                  [ngModelOptions]="{ standalone: true }"
                >
                  <mat-form-field class="checkbox-question__mat-form-field">
                    <input
                      [(value)]="card.opciones[x]"
                      style="color: black"
                      readonly
                      class="card-question__choice--input"
                      matInput
                      placeholder="opcion"
                    />
                  </mat-form-field>
                </mat-checkbox>
              </div>
            </div>
          </div>
          <!-- drag and drop column-->
          <!-- <div class="question-card-added" *ngSwitchCase="'3'">
            <div class="question-card-added__content">
              <div class="question-card-added__header">
                <div class="question-card-added__header--question">
                  <mat-form-field
                    appearance="outline"
                    class="card-question__instruction"
                  >
                    <mat-label>Instruction</mat-label>
                    <input
                      [(ngModel)]="card.pregunta"
                      type="text"
                      readonly
                      class="input-form"
                      matInput
                      placeholder="Instruction"
                      [ngModelOptions]="{ standalone: true }"
                    />
                  </mat-form-field>
                </div>
                <div class="question-card-added__header--score">
                  <div class="card-question__input">
                    <mat-form-field appearance="outline">
                      <mat-label>Score</mat-label>
                      <input
                        [(ngModel)]="card.puntuacion"
                        type="number"
                        class="input-form"
                        matInput
                        readonly
                        placeholder="Score"
                        [ngModelOptions]="{ standalone: true }"
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="drag-drop__area" cdkDropListGroup>
                <div class="drag-drop__wrapper">
                  <div class="drag-drop__columns">
                    <div
                      class="drag-drop__column"
                      *ngFor="let column of card.respuesta"
                    >
                      <mat-form-field class="example-form-field">
                        <mat-label>Column title</mat-label>
                        <input
                          matInput
                          type="text"
                          [(ngModel)]="column.titulo"
                          [ngModelOptions]="{ standalone: true }"
                        />
                      </mat-form-field>
                      <div class="drag-drop__task-container">
                        <mat-chip
                          class="example-box"
                          *ngFor="let option of column.cards"
                        >
                          {{ card.opciones[option] }}
                        </mat-chip>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="drag-drop__chips--horizontal">
                  <!--subtitle-->
          <!-- <div class="dialog-subtitle">
                    <div class="dialog-subtitle__text">
                      <span>Options</span>
                    </div>
                  </div>
                  <!--#subtitle-->
          <!-- <mat-chip-list
                    class="drag-drop__column--horizontal"
                    cdkDropListOrientation="horizontal"
                  >
                    <mat-chip class="task" *ngFor="let option of card.opciones">
                      {{ option }}
                    </mat-chip>
                  </mat-chip-list>
                </div>

              </div>
            </div>
          </div>  -->
          <div class="card-question-radio-button" *ngSwitchCase="'3'">
            <div class="container-dialog">
              <div class="dialog__message dialog__message--subtitle">
                Question Section
              </div>
              <div class="card-question__header">
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--question"
                >
                  <mat-label>Instruction</mat-label>
                  <input
                    [(ngModel)]="card.pregunta"
                    type="text"
                    readonly
                    class="input-form"
                    matInput
                    placeholder="Instruction"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >mode_edit</mat-icon
                  >
                </mat-form-field>
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--score"
                >
                  <mat-label>Score</mat-label>
                  <input
                    [(ngModel)]="card.puntuacion"
                    type="number"
                    readonly
                    class="input-form"
                    matInput
                    placeholder="Score"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >star</mat-icon
                  >
                </mat-form-field>
              </div>
              <!--  Listening Resources -->
              <div *ngIf="card.idHabilidad==1">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Listening resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >fiber_manual_record</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Listening Resources-->
              <!-- Reading Resource -->
              <div   *ngIf="card.idHabilidad==2">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Reading resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >insert_drive_file</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Reading Resource -->
              <div class="divisor-line divisor-line--primary mb-2"></div>
              <div class="dialog__message dialog__message--subtitle mb-2">
                Answer Section
              </div>
              <div class="dialog__message dialog__message--assistance mb-1">
                Fill the columns with the chips
              </div>
              <div class="drag-drop__area" cdkDropListGroup>
                <div class="drag-drop__columns">
                  <div
                    class="drag-drop__column"
                    *ngFor="let column of card.respuesta"
                  >
                    <mat-form-field class="drag-drop__field">
                      <mat-label>Column title</mat-label>
                      <input
                        matInput
                        type="text"
                        [(ngModel)]="column.titulo"
                        [ngModelOptions]="{ standalone: true }"
                      />
                    </mat-form-field>
                    <div class="drag-drop__task-container">
                      <mat-chip
                        class="example-box"
                        *ngFor="let option of column.cards"
                      >
                        {{ card.opciones[option] }}
                      </mat-chip>
                    </div>
                  </div>
                </div>
                <div class="dialog__message dialog__message--assistance mb-1">
                  List of chips
                </div>
                <mat-chip-list
                  class="drag-drop__column--horizontal"
                  cdkDropListOrientation="horizontal"
                >
                  <mat-chip class="task" *ngFor="let option of card.opciones">
                    {{ option }}
                  </mat-chip>
                </mat-chip-list>
              </div>
            </div>
          </div>
          <!-- drag and drop fill in the blancks-->
          <!-- <div class="question-card-added" *ngSwitchCase="'4'">
            <div class="question-card-added__content">
              <div class="question-card-added__header">
                <div class="question-card-added__header--question">
                  <mat-form-field
                    appearance="outline"
                    class="card-question__instruction"
                  >
                    <mat-label>Instruction</mat-label>
                    <input
                      type="text"
                      class="input-form"
                      matInput
                      placeholder="Instruction"
                      [ngModelOptions]="{ standalone: true }"
                      [(ngModel)]="card.pregunta"
                    />
                  </mat-form-field>
                </div>
                <div class="card-question__header--score">
                  <div class="card-question__input">
                    <mat-form-field appearance="outline">
                      <mat-label>Score</mat-label>
                      <input
                        type="number"
                        class="input-form"
                        matInput
                        placeholder="Score"
                        [ngModelOptions]="{ standalone: true }"
                        [(ngModel)]="card.puntuacion"
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="drag-drop__respuesta" cdkDropListGroup>
                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span>Complete the sentence</span>
                  </div>
                </div>
                <span class="question__suggestion"
                  >Complete the sentence with the options below</span
                >

                <div class="drag-drop__input">
                  <div *ngFor="let option of card.respuesta; let i = index">
                    <div *ngIf="option !== '*'; else templateName">
                      <div class="auxliar_span">
                        {{ option }}
                      </div>
                    </div>
                    <ng-template #templateName>
             
                      <mat-chip-list
                        class="drag-drop__chip-container-tasks"
                        cdkDropListOrientation="horizontal"
                      >
                      </mat-chip-list>
                    </ng-template>
                  </div>
                </div>

                <div class="dialog-subtitle">
                  <div class="dialog-subtitle__text">
                    <span>Options</span>
                  </div>
                </div>
                <span class="question__suggestion"
                  >Options to fill the sentence</span
                >
     
                <mat-chip-list
                  class="drag-drop__column--horizontal"
                  cdkDropListOrientation="horizontal"
                >
                  <mat-chip class="task" *ngFor="let option of card.opciones">
                    {{ option }}
                  </mat-chip>
                </mat-chip-list>
              
              </div>
            </div>
          </div> -->
          <div class="card-question-radio-button" *ngSwitchCase="'4'">
            <div class="container-dialog">
              <div class="dialog__message dialog__message--subtitle">
                Question Setup
              </div>
              <div class="card-question__header">
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--question"
                >
                  <mat-label>Instruction</mat-label>
                  <input
                    type="text"
                    class="input-form"
                    matInput
                    placeholder="Instruction"
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="card.pregunta"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >mode_edit</mat-icon
                  >
                </mat-form-field>

                <mat-form-field
                  appearance="outline"
                  class="card-question__header--score"
                >
                  <mat-label>Score</mat-label>
                  <input
                    type="number"
                    class="input-form"
                    matInput
                    placeholder="Score"
                    [ngModelOptions]="{ standalone: true }"
                    [(ngModel)]="card.puntuacion"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >star</mat-icon
                  >
                </mat-form-field>
              </div>
              <!--  Listening Resources -->
              <div *ngIf="card.idHabilidad==1">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Listening resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >fiber_manual_record</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Listening Resources-->
              <!-- Reading Resource -->
              <div   *ngIf="card.idHabilidad==2">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Reading resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >insert_drive_file</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Reading Resource -->
              <div class="divisor-line divisor-line--primary mb-2"></div>
              <div class="dialog__message dialog__message--subtitle mb-2">
                Answer Section
              </div>
              <div
                class="dialog__message dialog__message--assistance u__flex--flex-end mb-1"
              >
                *Create a sentence to be completed
              </div>
              <div class="drag-drop__input">
                <div *ngFor="let option of card.respuesta; let i = index">
                  <div *ngIf="option !== '*'; else templateName">
                    <div class="auxliar_span">
                      {{ option }}
                    </div>
                  </div>
                  <ng-template #templateName>
                    <mat-chip-list
                      class="drag-drop__chip-container-tasks"
                      cdkDropListOrientation="horizontal"
                    >
                    </mat-chip-list>
                  </ng-template>
                </div>
              </div>
              <div class="dialog__message dialog__message--assistance mb-1">
                List of chips
              </div>
              <mat-chip-list
                class="drag-drop__column--horizontal"
                cdkDropListOrientation="horizontal"
              >
                <mat-chip
                  [ngClass]="option.numero == -1 && 'redChip'"
                  class="task"
                  *ngFor="let option of card.opciones"
                >
                  {{ option }}
                </mat-chip>
              </mat-chip-list>
            </div>
          </div>
          <!-- #drag and drop fill in the blancks-->

          <div class="card-question-radio-button" *ngSwitchCase="'5'">
            <div class="container-dialog">
              <div class="dialog__message dialog__message--subtitle">
                Question Section
              </div>
              <div class="card-question__header">
                <mat-form-field
                  appearance="outline"
                  class="card-question__header--question"
                >
                  <mat-label>Instruction Dropbox</mat-label>
                  <input
                    readonly
                    [(ngModel)]="card.pregunta"
                    type="text"
                    class="input-form"
                    matInput
                    placeholder="Instruction dorpbox"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >mode_edit</mat-icon
                  >
                </mat-form-field>

                <mat-form-field
                  appearance="outline"
                  class="card-question__header--score"
                >
                  <mat-label>Score</mat-label>
                  <input
                    readonly
                    [(ngModel)]="card.puntuacion"
                    type="number"
                    class="input-form"
                    matInput
                    placeholder="Score"
                    [ngModelOptions]="{ standalone: true }"
                  />
                  <mat-icon class="card-question__input-icon" matSuffix
                    >star</mat-icon
                  >
                </mat-form-field>
              </div>
              <!--  Listening Resources -->
              <div *ngIf="card.idHabilidad==1">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Listening resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >fiber_manual_record</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Listening Resources-->
              <!-- Reading Resource -->
              <div   *ngIf="card.idHabilidad==2">
                <div class="dialog__message dialog__message--assistance mb-1">
                  Reading resource
                </div>
                <div class="u__space-between mb-1">
                  <div class="u__flex">
                    <mat-icon class="dialog__file-container--icon"
                      >insert_drive_file</mat-icon
                    >
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso==null">Ningun archivo seleccionado</div>
                    <div class="dialog__file-container--file-name-big" *ngIf="card.recurso!=null">{{card.recurso}}</div>
                  </div>
                </div>
              </div>
              <!-- #Reading Resource -->
              <div class="divisor-line divisor-line--primary mb-2"></div>
              <div class="dialog__message dialog__message--subtitle mb-2">
                Answer Section
              </div>
              <div class="u__space-between mb-2">
                <div class="match-input match-input__titles--small">
                  <div class="match-title__container">
                    <div class="divisor-line divisor-line--secondary"></div>
                    <div class="dialog__message dialog__message--subtitle mx-1">
                      Set Keywords y Matches
                    </div>
                    <div class="divisor-line divisor-line--secondary"></div>
                  </div>
                </div>
                <div class="match-input match-input__titles--big">
                  <div class="match-title__container">
                    <div class="divisor-line divisor-line--secondary"></div>
                    <div class="dialog__message dialog__message--subtitle mx-1">
                      Set Keywords
                    </div>
                    <div class="divisor-line divisor-line--secondary"></div>
                  </div>
                  <div class="match-input__icon"></div>
                  <div class="match-title__container">
                    <div class="divisor-line divisor-line--secondary"></div>
                    <div class="dialog__message dialog__message--subtitle mx-1">
                      Set Matches
                    </div>
                    <div class="divisor-line divisor-line--secondary"></div>
                  </div>
                </div>
              </div>
              <div
                class=""
                *ngFor="let opcionMatch of card.opciones; let i = index"
              >
                <div class="u__space-between">
                  <div class="match-input">
                    <mat-form-field class="match-input__container">
                      <mat-label>Keyword</mat-label>
                      <input
                        readonly
                        matInput
                        placeholder="Write a keyword"
                        [(ngModel)]="card.opciones[i]"
                        [ngModelOptions]="{ standalone: true }"
                      />
                    </mat-form-field>
                    <div class="match-input__icon">
                      <mat-icon inline="true">arrow_forward</mat-icon>
                    </div>
                    <mat-form-field class="match-input__container">
                      <mat-label>Match</mat-label>
                      <input
                        readonly
                        matInput
                        placeholder="Write the match of the keyword"
                        [(ngModel)]="card.respuesta[i]"
                        [ngModelOptions]="{ standalone: true }"
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- buttons next back-->
        <div class="u__space-between mt-3">
          <div class="u__flex" (click)="previous(stepper)">
            <button
              class="circular-button circular-button--primary"
              mat-mini-fab
            >
              <mat-icon class="circular-button__icon">chevron_left</mat-icon>
            </button>
            <div class="circular-button__text circular-button__text--right">
              Back
            </div>
          </div>
          <div class="u__flex" (click)="Generar(stepper)">
            <div class="circular-button__text circular-button__text--left">
              Next
            </div>
            <button
              class="circular-button circular-button--primary"
              mat-mini-fab
            >
              <mat-icon class="circular-button__icon">chevron_right</mat-icon>
            </button>
          </div>
        </div>
        <!-- #buttons next back -->
      </form>
    </mat-step>

    <!-- <button mat-button (click)="stepper.reset()">Reset</button> -->

    <!--#3 paso-->
    <!--4 paso-->

    <mat-step>
      <div class="spinner">
        <mat-spinner *ngIf="showSpinner"></mat-spinner>
      </div>
      <div *ngIf="spinnerFinish == true">
        <div class="done">
          <div class="done__content done--positive">
            <div class="done__text">
              <span>Done !</span>
            </div>
          </div>
        </div>
      </div>
      <form>
        <ng-template matStepLabel>Done</ng-template>

        <div>
          <!-- <button mat-button matStepperNext>Next</button> -->
          <!-- buttons -->
          <div class="progress-bar__bar">
            <!--next button-->
            <div class="progress-bar__finish" (click)="finish()">
              <span class="progress-bar__text-next">Finish</span>
              <button class="progress-bar__button-next" mat-mini-fab>
                <mat-icon class="progress-bar__icon">chevron_right</mat-icon>
              </button>
            </div>
            <!--#next button-->
          </div>
          <!-- #buttons -->
        </div>
      </form>
    </mat-step>
    <!--#4 paso-->
  </mat-horizontal-stepper>
</div>

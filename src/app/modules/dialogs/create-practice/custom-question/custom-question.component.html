<mat-dialog-content>
  <div class="dialog__message dialog__message--assistance">
    Choose the question skill
  </div>
  <div class="u__space-evenly">
    <div
      class="chip-container"
      *ngFor="let habilidad of habilidades; let habI = index"
    >
      <div
        class="chip"
        [ngClass]="{ 'chip--active': nuevaPregunta.idHabilidad == habI + 1 }"
        value="habI+1"
        (click)="cambiarHabilidad(habI + 1)"
      >
        <div class="chip__text">{{ habilidad.tipo }}</div>
        <mat-icon class="chip__icon">{{ habilidad.icon }}</mat-icon>
      </div>
    </div>
  </div>
  <div class="dialog__message dialog__message--assistance">
    Choose a type of question and answer
  </div>
  <div class="u__space-between">
    <!--combo tipo de preguntas-->
    <div class="u__flex--flex-start combos-container">
      <div class="combo-box">
        <mat-form-field class="combo-box__mat-form-field">
          <mat-label *ngIf="!nuevaPregunta.bloqidtp"
            >Type of Question</mat-label
          >
          <mat-label *ngIf="nuevaPregunta.bloqidtp" style="color: red"
            >*Type of Question</mat-label
          >
          <mat-select
            [(ngModel)]="nuevaPregunta.idTipoPregunta"
            [(value)]="nuevaPregunta.idTipoPregunta"
            (selectionChange)="cargarRespuestas()"
          >
            <mat-option
              *ngFor="let elemento of tipoPregunta"
              [value]="elemento.value"
            >
              <!-- <mat-icon>{{ elemento.icon }}</mat-icon> -->
              {{ elemento.display }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <!--#combo tipo de preguntas-->
      <!--combo tipo de respuestas-->
      <div class="combo-box">
        <mat-form-field class="combo-box__mat-form-field">
          <mat-label *ngIf="!nuevaPregunta.bloqidtr">Type of answer</mat-label>
          <mat-label *ngIf="nuevaPregunta.bloqidtr" style="color: red"
            >*Type of answer</mat-label
          >
          <mat-select
            [(value)]="nuevaPregunta.idTipoRespuesta"
            (selectionChange)="changeClient($event.value)"
          >
            <mat-option
              *ngFor="let elemento of tipoRespuesta"
              [value]="elemento.value"
            >
              {{ elemento.display }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <button
      mat-raised-button
      class="circular-button circular-button--primary"
      (click)="limpiar()"
      mat-mini-fab
    >
      <mat-icon class="circular-button__icon">clear_all</mat-icon>
    </button>
  </div>
  <!--#combo box-->

  <!--card-->
  <div class="card-question" [ngSwitch]="nuevaPregunta.idTipoRespuesta">
    <div class="card-question-radio-button" *ngSwitchCase="'1'">
      <div class="container-dialog">
        <div class="dialog__message dialog__message--subtitle">
          Question Setup
        </div>
        <div class="card-question__header">
          <mat-form-field
            appearance="outline"
            class="card-question__header--question"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpreg">Question Name</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpreg" style="color: red"
              >*Question Name</mat-label
            >
            <input
              [(ngModel)]="nuevaPregunta.pregunta"
              type="text"
              class="input-form"
              matInput
              placeholder="Question Name"
              name="nombre pregunta"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >mode_edit</mat-icon
            >
          </mat-form-field>

          <mat-form-field
            class="card-question__header--score"
            appearance="outline"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpunt">Score</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpunt" style="color: red"
              >*Score</mat-label
            >
            <input
              type="number"
              class="input-form"
              matInput
              placeholder="Score Name"
              name="puntuacion"
              [(ngModel)]="nuevaPregunta.puntuacion"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >star</mat-icon
            >
          </mat-form-field>
        </div>
        <!--  Listening Resources -->
        <div class="dialog__message dialog__message--assistance mb-1">
          Listening resource
        </div>
        <div class="u__flex mb-1">
          <div class="u__flex-95">
            <ngx-audio-player
              [playlist]="msaapPlaylist"
              [displayTitle]="msaapDisplayTitle"
              [autoPlay]="false"
              muted="muted"
              [displayPlaylist]="msaapDisplayPlayList"
              (trackEnded)="onEnded($event)"
              [displayVolumeControls]="msaapDisplayVolumeControls"
              [disablePositionSlider]="msaapDisablePositionSlider"
              [expanded]="true"
            ></ngx-audio-player>
          </div>
          <div class="u__flex-05 ml-1 u__flex--flex-end">
            <button class="circular-button--primary" mat-mini-fab>
              <!--download-->
              <mat-icon>file_upload</mat-icon>
              <!--#download-->
            </button>
          </div>
        </div>
        <!-- #Listening Resources-->
        <!-- Reading Resource -->
        <div class="dialog__message dialog__message--assistance mb-1">
          Reading resource
        </div>
        <div class="u__space-between mb-1">
          <div class="u__flex">
            <mat-icon class="dialog__file-container--icon"
              >insert_drive_file</mat-icon
            >
            <div class="dialog__file-container--file-name-big">File.pdf</div>
          </div>
          <button class="circular-button--primary" mat-mini-fab>
            <!--download-->
            <mat-icon>file_upload</mat-icon>
            <!--#download-->
          </button>
        </div>
        <!-- #Reading Resource -->

        <h5 *ngIf="nuevaPregunta.bloqopci" style="color: red">
          *Check the answers
        </h5>
        <div class="divisor-line divisor-line--primary mb-2"></div>
        <div class="dialog__message dialog__message--subtitle mb-2">
          Answer Setup
        </div>
        <div class="radio-button-question">
          <mat-radio-group
            aria-label="Select an option"
            class="radio-button-question__radio-group"
            name="radiobuttons"
            [(ngModel)]="nuevaPregunta.respuesta[0]"
          >
            <mat-radio-button
              class="radio-button-question__choice"
              *ngFor="let opcion of radioButtonOpciones; let i = index"
              [value]="i"
            >
              <mat-form-field class="radio-button-question__mat-form-field">
                <input
                  [(ngModel)]="opcion.opcionRespuesta"
                  [ngModelOptions]="{ standalone: true }"
                  class="radio-button-question__choice--input"
                  matInput
                  placeholder="opcion"
                />
              </mat-form-field>

              <button
                class="circle-button circle-button__container circle-button__container--delete-mini ml-1"
                (click)="eliminarElemento(i)"
              >
                <mat-icon class="circle-button__icon">close</mat-icon>
              </button>
            </mat-radio-button>
          </mat-radio-group>
        </div>
        <div class="u__flex--flex-end">
          <button
            mat-mini-fab
            class="card-question__button--add"
            (click)="agregarRespuesta()"
          >
            <mat-icon>add</mat-icon>
          </button>
        </div>
      </div>
    </div>
    <!-- #radio button question-->
    <!-- checkbox question-->
    <div class="card-question-radio-button" *ngSwitchCase="'2'">
      <div class="container-dialog">
        <div class="dialog__message dialog__message--subtitle">
          Question Setup
        </div>
        <div class="card-question__header">
          <mat-form-field
            appearance="outline"
            class="card-question__header--question"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpreg">Question Name</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpreg" style="color: red"
              >*Question Name</mat-label
            >
            <input
              [(ngModel)]="nuevaPregunta.pregunta"
              type="text"
              class="input-form"
              matInput
              placeholder="Question Name"
              name="nombre pregunta"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >mode_edit</mat-icon
            >
          </mat-form-field>
          <mat-form-field
            appearance="outline"
            class="card-question__header--score"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpunt">Score</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpunt" style="color: red"
              >*Score</mat-label
            >
            <input
              type="number"
              class="input-form"
              matInput
              placeholder="Score Name"
              name="puntuacion"
              [(ngModel)]="nuevaPregunta.puntuacion"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >star</mat-icon
            >
          </mat-form-field>
        </div>

        <h5 *ngIf="nuevaPregunta.bloqopci" style="color: red">
          *Check the answers
        </h5>
        <div class="divisor-line divisor-line--primary mb-2"></div>
        <div class="dialog__message dialog__message--subtitle mb-2">
          Answer Setup
        </div>
        <div class="card-question__content">
          <div class="checkbox-question">
            <mat-checkbox
              class="checkbox-question__choice"
              *ngFor="let opcionesCB of checkboxOpciones; let i = index"
              [(ngModel)]="checkboxOpciones[i].isChecked"
            >
              <mat-form-field class="checkbox-question__mat-form-field">
                <input
                  [(ngModel)]="checkboxOpciones[i].opcionRespuesta"
                  name="a{{ i }}"
                  class="checkbox-question__choice--input"
                  matInput
                  placeholder="opcion"
                />
              </mat-form-field>
              <button
                (click)="eliminarElemento(i)"
                class="circle-button circle-button__container circle-button__container--delete-mini ml-1"
              >
                <mat-icon class="circle-button__icon">close</mat-icon>
              </button>
            </mat-checkbox>
          </div>
          <div class="u__flex--flex-end">
            <button
              (click)="agregarRespuesta()"
              mat-mini-fab
              class="card-question__button--add"
            >
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- #checkbox question-->

    <!-- matching combo box-->
    <div class="card-question-radio-button" *ngSwitchCase="'5'">
      <div class="container-dialog">
        <div class="dialog__message dialog__message--subtitle">
          Question Setup
        </div>
        <div class="card-question__header">
          <mat-form-field
            appearance="outline"
            class="card-question__header--question"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpreg"
              >Instruction Dropbox</mat-label
            >
            <mat-label *ngIf="nuevaPregunta.bloqpreg" style="color: red"
              >*Instruction Dropbox</mat-label
            >
            <input
              [(ngModel)]="nuevaPregunta.pregunta"
              type="text"
              class="input-form"
              matInput
              placeholder="Instruction dorpbox"
              name="nombre pregunta"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >mode_edit</mat-icon
            >
          </mat-form-field>
          <mat-form-field
            appearance="outline"
            class="card-question__header--score"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpunt">Score</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpunt" style="color: red"
              >*Score</mat-label
            >
            <input
              [(ngModel)]="nuevaPregunta.puntuacion"
              type="number"
              class="input-form"
              matInput
              placeholder="Score"
              name="puntuacion"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >star</mat-icon
            >
          </mat-form-field>
        </div>
        <div class="divisor-line divisor-line--primary mb-2"></div>
        <div class="dialog__message dialog__message--subtitle mb-2">
          Answer Setup
        </div>
        <div class="u__space-between mb-2">
          <div class="match-input match-input__titles--small">
            <div class="match-title__container">
              <div class="divisor-line divisor-line--secondary"></div>
              <div class="dialog__message dialog__message--subtitle mx-1">
                Set Keywords y Matches
              </div>
              <div class="divisor-line divisor-line--secondary"></div>
            </div>
          </div>
          <div class="match-input match-input__titles--big">
            <div class="match-title__container">
              <div class="divisor-line divisor-line--secondary"></div>
              <div class="dialog__message dialog__message--subtitle mx-1">
                Set Keywords
              </div>
              <div class="divisor-line divisor-line--secondary"></div>
            </div>
            <div class="match-input__icon"></div>
            <div class="match-title__container">
              <div class="divisor-line divisor-line--secondary"></div>
              <div class="dialog__message dialog__message--subtitle mx-1">
                Set Matches
              </div>
              <div class="divisor-line divisor-line--secondary"></div>
            </div>
          </div>
        </div>

        <div class="" *ngFor="let opcion of matchingInputs; let i = index">
          <div class="u__space-between">
            <div class="match-input">
              <mat-form-field class="match-input__container">
                <mat-label>Keyword</mat-label>
                <input
                  matInput
                  placeholder="Write a keyword"
                  [(ngModel)]="opcion.keyword"
                />
              </mat-form-field>
              <div class="match-input__icon">
                <mat-icon inline="true">arrow_forward</mat-icon>
              </div>
              <mat-form-field class="match-input__container">
                <mat-label>Match</mat-label>
                <input
                  matInput
                  placeholder="Write the match of the keyword"
                  [(ngModel)]="opcion.match"
                />
              </mat-form-field>
            </div>

            <button
              class="circle-button circle-button__container circle-button__container--delete-mini ml-1"
              (click)="eliminarInputMatch(i)"
            >
              <mat-icon class="circle-button__icon">close</mat-icon>
            </button>
          </div>
        </div>
        <div class="u__flex--flex-end">
          <button
            (click)="agregarInputMatch()"
            mat-mini-fab
            class="card-question__button--add"
          >
            <mat-icon>add</mat-icon>
          </button>
        </div>
      </div>
    </div>
    <!-- #matching combo box-->

    <!-- drag and drop columns-->
    <div class="card-question-radio-button" *ngSwitchCase="'3'">
      <div class="container-dialog">
        <div class="dialog__message dialog__message--subtitle">
          Question Setup
        </div>
        <div class="card-question__header">
          <mat-form-field
            appearance="outline"
            class="card-question__header--question"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpreg">Instruction</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpreg" style="color: red"
              >*Instruction</mat-label
            >
            <input
              [(ngModel)]="nuevaPregunta.pregunta"
              type="text"
              class="input-form"
              matInput
              placeholder="Instruction"
              name="nombre pregunta"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >mode_edit</mat-icon
            >
          </mat-form-field>
          <mat-form-field
            appearance="outline"
            class="card-question__header--score"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpunt">Score</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpunt" style="color: red"
              >*Score</mat-label
            >
            <input
              [(ngModel)]="nuevaPregunta.puntuacion"
              type="number"
              class="input-form"
              matInput
              placeholder="Score"
              name="puntuacion"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >star</mat-icon
            >
          </mat-form-field>
        </div>
        <div class="divisor-line divisor-line--primary mb-2"></div>
        <div class="dialog__message dialog__message--subtitle mb-2">
          Answer Setup
        </div>
        <div
          class="dialog__message dialog__message--assistance u__flex--flex-end mb-1"
        >
          *Select the number of columns
        </div>
        <div class="u__flex--flex-end">
          <mat-form-field>
            <mat-label *ngIf="!nuevaPregunta.bloqidtp"
              >Number of Columns</mat-label
            >
            <mat-label *ngIf="nuevaPregunta.bloqidtp" style="color: red"
              >Number of Columns</mat-label
            >
            <mat-select
              (selectionChange)="ponerColumnas()"
              [(ngModel)]="numColumnas"
            >
              <mat-option
                *ngFor="let columnsOption of dragAndDropColumn"
                [value]="columnsOption.value"
              >
                {{ columnsOption.display }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="dialog__message dialog__message--assistance mb-1">
          Fill the columns with the chips
        </div>
        <div class="drag-drop__area" cdkDropListGroup>
          <!-- cards wrapper columns-->
          <div class="drag-drop__columns">
            <div
              class="drag-drop__column"
              *ngFor="let column of listColumnsChips2"
            >
              <mat-form-field class="drag-drop__field">
                <mat-label>Column title</mat-label>
                <input matInput type="text" [(ngModel)]="column.columnTitle" />
                <button
                  mat-button
                  *ngIf="value"
                  matSuffix
                  mat-icon-button
                  aria-label="Column title"
                  (click)="column.columnTitle = ''"
                >
                  <mat-icon>close</mat-icon>
                </button>
              </mat-form-field>
              <div
                class="drag-drop__task-container"
                cdkDropList
                [cdkDropListData]="column.chip"
                (cdkDropListDropped)="drop2($event)"
              >
                <mat-chip
                  class="example-box"
                  cdkDrag
                  *ngFor="let option of column.chip"
                  (removed)="removeList(option, column)"
                >
                  {{ option.chipName }}
                  <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
              </div>
            </div>
          </div>

          <div class="divisor-line--secondary-mini"></div>

          <div
            class="dialog__message dialog__message--assistance u__flex--flex-end mb-1"
          >
            *Add new chip
          </div>
          <div class="u__flex--flex-end">
            <div class="drag-drop__add-option">
              <mat-form-field appearance="outline">
                <mat-label>Option</mat-label>

                <input
                  class="input-form"
                  type="text"
                  matInput
                  placeholder="Write an option"
                  name="chipOption{{ options2.length }}"
                  id="name{{ options2.length }}"
                  [(ngModel)]="optionChipName"
                />
              </mat-form-field>
              <button
                class="circular-button-subtitle"
                mat-mini-fab
                (click)="agregarOpcion()"
              >
                <mat-icon class="circular-button-subtitle__icon">add</mat-icon>
              </button>
            </div>
          </div>

          <div class="dialog__message dialog__message--assistance mb-1">
            List of chips
          </div>
          <mat-chip-list
            class="drag-drop__column--horizontal"
            cdkDropList
            cdkDropListOrientation="horizontal"
            [cdkDropListData]="options2"
            (cdkDropListDropped)="drop2($event)"
          >
            <mat-chip
              class="task"
              cdkDrag
              *ngFor="let option of options2"
              (removed)="remove(option)"
            >
              {{ option.chipName }}
              <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
            </mat-chip>
          </mat-chip-list>
        </div>
      </div>
    </div>
    <!-- ## drag and drop columns-->

    <!-- drag and drop fill in the blancks-->
    <div class="card-question-radio-button" *ngSwitchCase="'4'">
      <div class="container-dialog">
        <div class="dialog__message dialog__message--subtitle">
          Question Setup
        </div>
        <div class="card-question__header">
          <!--input para pregunta-->
          <mat-form-field
            appearance="outline"
            class="card-question__header--question"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpreg">Instruction</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpreg" style="color: red"
              >*Instruction</mat-label
            >
            <input
              type="text"
              class="input-form"
              matInput
              placeholder="Instruction"
              name="nombre pregunta"
              [(ngModel)]="this.nuevaPregunta.pregunta"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >mode_edit</mat-icon
            >
          </mat-form-field>

          <mat-form-field
            appearance="outline"
            class="card-question__header--score"
          >
            <mat-label *ngIf="!nuevaPregunta.bloqpunt">Score</mat-label>
            <mat-label *ngIf="nuevaPregunta.bloqpunt" style="color: red"
              >*Score</mat-label
            >
            <input
              type="number"
              class="input-form"
              matInput
              placeholder="Score"
              name="puntuacion"
              min="1"
              max="100"
              [(ngModel)]="this.nuevaPregunta.puntuacion"
            />
            <mat-icon class="card-question__input-icon" matSuffix
              >star</mat-icon
            >
          </mat-form-field>
        </div>
        <div class="divisor-line divisor-line--primary mb-2"></div>
        <div class="dialog__message dialog__message--subtitle mb-2">
          Answer Setup
        </div>
        <div
          class="dialog__message dialog__message--assistance u__flex--flex-end mb-1"
        >
          *Create a sentence to be completed
        </div>
        <div class="drag-drop__header" *ngIf="!ocultarFillQuestion">
          <mat-form-field class="drag-drop__text-area">
            <mat-label>Text</mat-label>
            <textarea
              matInput
              placeholder="Write here ..."
              [(ngModel)]="dragdropText"
            ></textarea>
          </mat-form-field>
          <div class="u__flex--flex-end">
            <button
              class="circular-button-subtitle"
              mat-mini-fab
              (click)="textareaview()"
            >
              <mat-icon class="circular-button-subtitle__icon"
                >expand_more</mat-icon
              >
            </button>
          </div>
        </div>
        <div
          class="drag-drop__area"
          cdkDropListGroup
          *ngIf="ocultarFillQuestion"
        >
          <div class="u__flex--flex-end">
            <button
              class="circular-button-subtitle"
              mat-mini-fab
              (click)="textAreaEdit()"
            >
              <mat-icon class="circular-button-subtitle__icon"
                >expand_less</mat-icon
              >
            </button>
          </div>
          <div class="dialog__message dialog__message--assistance mb-1">
            Click to remove a word
          </div>
          <!-- matchips options list -->
          <mat-chip-list
            class="drag-drop__column--horizontal"
            cdkDropList
            cdkDropListOrientation="horizontal"
            [cdkDropListData]="optionsTextarea"
            (cdkDropListDropped)="drop3($event)"
          >
            <mat-chip
              class="task"
              *ngFor="let option of optionsTextarea; let iOption = index"
              (click)="clickChip(iOption)"
            >
              {{ option.chipName }}
            </mat-chip>
          </mat-chip-list>
          <div class="divisor-line--secondary-mini"></div>
          <!-- #matchips options list -->
          <div class="drag-drop__chips--horizontal">
            <!--subtitle-->
            <div
              class="dialog__message dialog__message--assistance u__flex--flex-end mb-1"
            >
              *Add new chip
            </div>
            <div class="u__flex--flex-end">
              <div class="drag-drop__add-option">
                <mat-form-field appearance="outline">
                  <mat-label>Add option</mat-label>
                  <input
                    class="input-form"
                    type="text"
                    matInput
                    placeholder="Write an option"
                    name="chipOption{{ options.length }}"
                    id="name{{ options.length }}"
                    [(ngModel)]="optionChipName"
                  />
                </mat-form-field>
                <button
                  class="circular-button-subtitle"
                  mat-mini-fab
                  (click)="agregarOpcionExtraFill()"
                >
                  <mat-icon class="circular-button-subtitle__icon"
                    >add</mat-icon
                  >
                </button>
              </div>
            </div>
            <div class="dialog__message dialog__message--assistance mb-1">
              List of chips
            </div>
            <!-- #add chip option -->
            <mat-chip-list
              class="drag-drop__column--horizontal"
              cdkDropList
              cdkDropListOrientation="horizontal"
              [cdkDropListData]="options"
              (cdkDropListDropped)="drop3($event)"
            >
              <mat-chip
                (click)="clickChipOptions(iOption2)"
                [ngClass]="option.numero == -1 && 'redChip'"
                class="task"
                *ngFor="let option of options; let iOption2 = index"
              >
                {{ option.chipName }}
              </mat-chip>
            </mat-chip-list>
          </div>
        </div>
      </div>
    </div>
    <!-- #drag and drop fill in the blancks-->
  </div>
  <!--#card-->
</mat-dialog-content>
<mat-dialog-actions align="end">
  <div class="u__flex--flex-end">
    <button
      mat-raised-button
      class="button-normal button-normal--negative"
      (click)="cancelar()"
    >
      <span class="button-normal__text">Cancel</span>
    </button>
    <button
      (click)="agregarPreguntaEnContenido()"
      mat-raised-button
      class="button-normal button-normal--positive"
    >
      <span class="button-normal__text">Add question</span>
    </button>
  </div>
</mat-dialog-actions>
